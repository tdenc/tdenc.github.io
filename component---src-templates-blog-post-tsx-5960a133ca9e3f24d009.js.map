{"version":3,"file":"component---src-templates-blog-post-tsx-5960a133ca9e3f24d009.js","mappings":"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","sources":["webpack://gatsby-blog-stater-with-typescript/./src/images/arrow.svg","webpack://gatsby-blog-stater-with-typescript/./src/components/common/PostFooterCard.tsx","webpack://gatsby-blog-stater-with-typescript/./src/templates/blog-post.tsx","webpack://gatsby-blog-stater-with-typescript/./src/images/post-prev-icon.svg","webpack://gatsby-blog-stater-with-typescript/./src/images/post-next-icon.svg"],"sourcesContent":["export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDcgMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xLjAwNDI4IDExLjUyMjJMNS4zNDg0IDYuOTEzMzZDNS43MTM1NSA2LjUyNTk2IDUuNzExMTcgNS45MjA0IDUuMzQzIDUuNTM1ODhMMSAxIiBzdHJva2U9IiM1ODU4NTgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo=\"","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport '../../styles/components/common/post-footer-card.scss';\n\ninterface Field {\n  slug: string;\n}\ninterface Frontmatter {\n  title: string;\n  description: string;\n  date: string;\n}\n\ninterface Post {\n  excerpt: string;\n  frontmatter: Frontmatter;\n  fields: Field;\n}\n\ninterface Props {\n  post: Post;\n  thumbnail: string | null;\n}\n\nexport default function PostFooterCard({ post, thumbnail }: Props) {\n  const title = post.frontmatter.title.split(' ')[0] || post.fields.slug;\n  const themeSize = 3;\n  const themeStartNumber = 1;\n\n  return (\n    <Link to={post.fields.slug}>\n      <div className=\"post-footer-card\">\n        <div className=\"post-footer-card__card\">\n          <div className=\"left\">\n            <h2 className=\"title\">{title}</h2>\n            <p className=\"contents\">{post.frontmatter.description || post.excerpt}</p>\n          </div>\n          {thumbnail ? (\n            <div className=\"right\" dangerouslySetInnerHTML={{ __html: thumbnail }} />\n          ) : (\n            <div\n              className={`right no-thumbnail theme-color-${Math.floor(Math.random() * themeSize + themeStartNumber)}`}\n            >\n              <span>{title}</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import * as React from 'react';\nimport { Link, graphql } from 'gatsby';\n\nimport Layout from '../components/layout';\nimport arrowIcon from '../images/arrow.svg';\nimport SEO from '../components/Seo';\nimport prevIcon from '../images/post-prev-icon.svg';\nimport nextIcon from '../images/post-next-icon.svg';\nimport '../styles/blog-post.scss';\nimport '../styles/code.scss';\nimport PostFooterCard from '../components/common/PostFooterCard';\n\nexport interface CommentProps {\n  service: 'disqus' | 'utterances';\n  disqusProps: {\n    shortname: string;\n    config: { identifier: string; title: string };\n  };\n  utterancesProps: string;\n}\n\nconst BlogPostTemplate = ({ data, location }) => {\n  const post = data.markdownRemark;\n  const posts = data.allMarkdownRemark.nodes;\n  const slug = data.markdownRemark.fields?.slug;\n  const { category } = data.markdownRemark.frontmatter;\n  const { commentInfo } = data.site.siteMetadata;\n\n  const { previous, next } = data;\n\n  const filteredPost = posts.filter((item) => category === item.frontmatter.category);\n\n  const commentProps: CommentProps = {\n    service: commentInfo.service,\n    disqusProps: {\n      shortname: commentInfo.disqusId,\n      config: { identifier: slug, title: post.frontmatter.title },\n    },\n    utterancesProps: commentInfo.utterancesId,\n  };\n\n  const getThumbnail = (postIndex) => {\n    const regex = /<img[^>]+src\\s*=\\s*['\"]([^'\"]+)['\"][^>]*>/g;\n    const htmlString = filteredPost.map((htmlCode, htmlIndex) => {\n      if (postIndex === htmlIndex) {\n        return htmlCode.html;\n      }\n      return null;\n    });\n    const image = regex.exec(htmlString);\n    if (image && image.length) {\n      return `${image[0].split('srcset')[0]}/>`;\n    }\n    return null;\n  };\n\n  return (\n    <Layout location={location}>\n      <SEO title={post.frontmatter.title} description={post.frontmatter.description || post.excerpt} />\n      <article className=\"blog-post\" itemScope itemType=\"http://schema.org/Article\">\n        <header>\n          <p className=\"post-category\">\n            <Link to={`/`}>HOME</Link>\n            <img src={arrowIcon} alt=\"HOME\" />\n            <Link to={`/?category=${category}`}>{category}</Link>\n          </p>\n          <h1 itemProp=\"headline\">{post.frontmatter.title}</h1>\n          <p>更新日：{post.frontmatter.date}</p>\n        </header>\n        <section dangerouslySetInnerHTML={{ __html: post.html }} itemProp=\"articleBody\" />\n      </article>\n      <nav className=\"blog-post-nav\">\n        <ul>\n          <li>\n            {previous && (\n              <Link to={previous.fields.slug} rel=\"prev\">\n                <img src={prevIcon} alt=\"left\" className=\"left\" /> PREV\n              </Link>\n            )}\n          </li>\n          <li>\n            {next && (\n              <Link to={next.fields.slug} rel=\"next\">\n                NEXT <img src={nextIcon} alt=\"right\" className=\"right\" />\n              </Link>\n            )}\n          </li>\n        </ul>\n        <p className=\"post-category\">\n          <Link to={`/`}>HOME</Link>\n          <img src={arrowIcon} alt=\"HOME\" />\n          <Link to={`/?category=${category}`}>{category}</Link>\n        </p>\n        <div className=\"post-card-container\">\n          {filteredPost.map((item, postIndex) => (\n            <PostFooterCard key={item.fields.slug} post={item} thumbnail={getThumbnail(postIndex)} />\n          ))}\n        </div>\n      </nav>\n    </Layout>\n  );\n};\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($id: String!, $previousPostId: String, $nextPostId: String) {\n    site {\n      siteMetadata {\n        title\n        commentInfo {\n          service\n          disqusId\n          utterancesId\n        }\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n        description\n        category\n      }\n      fields {\n        slug\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      group(field: frontmatter___category) {\n        fieldValue\n      }\n      nodes {\n        excerpt\n        html\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"YYYY-MM-DD\")\n          title\n          description\n          category\n        }\n      }\n    }\n  }\n`;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjkiIHRyYW5zZm9ybT0icm90YXRlKC0xODAgOSA5KSIgZmlsbD0iIzU1QUY3QSIvPgo8cGF0aCBkPSJNMTAuNDk3IDQuODU4Nkw3LjQwMTg1IDguMTQyNEM3LjAzNjcgOC41Mjk4IDcuMDM5MDcgOS4xMzUzNSA3LjQwNzI0IDkuNTE5ODhMMTAuNTAwMiAxMi43NTAyIiBzdHJva2U9IiNFN0YyRUMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+Cg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjkiIGZpbGw9IiM1NUFGN0EiLz4KPHBhdGggZD0iTTcuNTAyOTYgMTMuMTQxNEwxMC41OTgyIDkuODU3NkMxMC45NjMzIDkuNDcwMjEgMTAuOTYwOSA4Ljg2NDY1IDEwLjU5MjggOC40ODAxMkw3LjQ5OTc2IDUuMjQ5NzYiIHN0cm9rZT0iI0U3RjJFQyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K\""],"names":["PostFooterCard","post","thumbnail","title","frontmatter","split","fields","slug","React","Link","to","className","description","excerpt","dangerouslySetInnerHTML","__html","Math","floor","random","data","location","markdownRemark","posts","allMarkdownRemark","nodes","_data$markdownRemark$","category","commentInfo","site","siteMetadata","previous","next","filteredPost","filter","item","getThumbnail","service","disqusId","utterancesId","postIndex","htmlString","map","htmlCode","htmlIndex","html","image","exec","length","Layout","SEO","itemScope","itemType","src","arrowIcon","alt","itemProp","date","rel","key"],"sourceRoot":""}